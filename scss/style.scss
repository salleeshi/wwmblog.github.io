@import "../asset/font";
@import "compass/css3";
@import "compass/css3/user-interface";

// Color
$mainBGColor : #ecece4;

// Size
$firstPageBottomHeight : 76px;
$browserWidth : 1366px;
$pageWidth    : 1000px;
$pageMaxWidth : 90%;

// Mixins
@mixin retina {
  @media (-webkit-min-device-pixel-ratio : 2), (min-device-pixel-ratio: 2) {
      & { @content; }
  }
}

// ---------- General Stuff
html, body {
  height  : 100%;
  margin  : 0;
  padding : 0; 
}

h1, h2, h3, h4, h5, h6 { margin : 0; font-weight : normal; }
p { margin : 0; }
address { font-style : normal; }
q:before { content : ""; }
q:after  { content : ""; }

.clearfix:after {
  content : " ";
  clear   : both;
}

.vam {
  &:before {
    content        : " ";
    width          : 0;
    height         : 100%;
    display        : inline-block;
    vertical-align : middle;
    margin-right   : -0.25em;
  }
}

.font-title {
  font-family : "微软雅黑", "Hiragino Sans GB", "Hiragino Sans GB W3", "Helvetica", "Arial";
}

.wwmicn {
  font-family : "wwmregular";
}

// General Stuff ----------


// ---------- Intro Page
.intro-wrap {
  background  : image-url("bg.png") repeat;
  position    : fixed;
  top         : -$firstPageBottomHeight;
  height      : 100%;
  width       : 100%;
  z-index     : 2;
  text-align  : center;
  padding-top : $firstPageBottomHeight;
  
  @include box-sizing( border-box );
  @include retina() {
    background-image : image-url("bg@2x.png");
    @include background-size( image-width("bg.png"), auto );
  }
}

.intro-wrap-holder {
  height   : 100%;
}

$cardWidth  : 320px;
$cardHeight : ceil($cardWidth * 0.618);
$cardTopHPercent   : 0.4;
$cardRightWPercent : 0.618;
$cardRightHSplitP  : 0.618;
$cardBottomH       : floor($cardHeight * (1 - $cardTopHPercent));
$cardLeftW         : floor($cardWidth * (1 - $cardRightWPercent));

.card-wrap {
  max-width : $cardWidth;
  min-width : $cardWidth - 30px;
  width     : 90%;
  height    : $cardHeight;
  
  margin         : auto;
  vertical-align : middle;
  display        : inline-block;

  @include box-shadow(0 0 20px rgba(0,0,0,0.75));
}

.card-top {
  height        : ceil($cardHeight * $cardTopHPercent);
  border        : 1px solid rgba(200, 200, 200, 0.1);
  border-bottom : none;
  position      : relative;
  overflow      : hidden;

  @include box-shadow(inset 0 6px 16px 2px rgba(#fff,0.03));
  @include background-image(linear-gradient(bottom, color-stops(rgba(white,0.02),rgba(white,0.03))));
  
  &:before {
    width             : 200%;
    height            : 100%;
    position          : absolute;
    border-radius     : 50%;
    top               : -35%;
    left              : -15px;
    z-index           : -1;
    content           : " ";
    background        : rgba(#fff, 0.02);
    
    @include transform( rotate(3deg) );
  }

  &:after {
    position : absolute;
    width    : 80%;
    height   : 10px;
    left     : 0;
    right    : 0;
    margin   : auto;
    bottom   : -10px;
    @include box-shadow(0 0 16px #000);
  }
}

.card-left {
  height : $cardBottomH;
  width  : $cardLeftW;
  float  : left;

  background    : #7c7c7c;
  border-radius : 0 0 0 4px;
}

.card-mid {
  width       : ceil($cardWidth * $cardRightWPercent);
  height      : ceil($cardBottomH * $cardRightHSplitP);
  margin-left : $cardLeftW;
  
  background : #eeebdf image-url("noise.png") repeat;
}

.card-bottom {
  width       : ceil($cardWidth * $cardRightWPercent);
  height      : floor($cardBottomH * (1 - $cardRightHSplitP));
  line-height : floor($cardBottomH * (1 - $cardRightHSplitP));
  margin-left : $cardLeftW;
  
  background    : #393939;
  border-radius : 0 0 4px 0;
  
  text-align : right;
  padding    : 0 1em;
  cursor     : default;
  @include box-sizing( border-box );
  
  a {
    color     : #1f1f1f;
    font-size : 16px;

    text-decoration : none;
    vertical-align  : middle;
  }

  .github:hover   { color : #5791ca; }
  .dribbble:hover { color : #cb416f; }
  .twitter:hover  { color : #00acee; }
  .fanfou:hover   { color : #1ac0fa; }
  .v2ex:hover     { color : #d9d9dc; }
  .mail:hover     { color : #d53c36; }
}

// Intro Page ----------

// ---------- Logo / Title
.logo {
  $svgBGWidth  : 200;
  $svgBGHeight : 228;
  
  height       : $firstPageBottomHeight;
  padding-left : 66 / $svgBGHeight * $svgBGWidth + 15px;

  background : image-url("logo.svg") no-repeat;
  background-position : 0 floor(($firstPageBottomHeight - 66) / 2);
  @include background-size(auto 66px);
}
.page-title {
  color     : #7f7f7f;
  font-size : 18px;
  
  .l1 {
    line-height : 20px;
    padding-top : ($firstPageBottomHeight - 20) / 2;
  }

  .l2 {
    font-size   : 16px;
    line-height : 20px;
    height      : 20px;
    padding-top : ($firstPageBottomHeight - 20 - 16) / 2;
  }

  .l2s {
    font-size   : 12px;
    line-height : 16px;
    height      : 16px;
  }

  b {
    font-weight : normal;
    color       : #333;
  }
}

// Logo / Title ----------

.page-wrap {
  position: relative;
  min-height : 100%;
  z-index : 3;
  background : $mainBGColor;
}

.page {
  position   : relative;
  min-height : 100%;
  z-index    : 3;
  background : $mainBGColor;
  
  margin    : 0 auto;
  max-width : $pageMaxWidth;
  width     : $pageWidth;
}

.page1 {
  margin-top : -$firstPageBottomHeight;
}

// --------- J, K Navigation
.shortcut-nav {
  position : fixed;
  bottom   : floor(($firstPageBottomHeight - 32 - 2*2 - 1*2) / 2);
  right    : 50px;
  border   : 1px dashed #d1d1d1;
  
  z-index  : 4;
  
  border-radius : 2px;
  padding : 4px 4px;
  
  .sc-button {

    position : relative;
    float    : left;

    width   : 24px;
    height  : 24px;
    padding : 0;
    margin  : 0px 4px;
    
    border-radius : 4px;
    border        : 1px solid #9e9e9e;
    
    color : #777;
    background-color : #f9f9f9;

    @include box-shadow( 0 1px 3px rgba(16,16,16,.3), inset 0 -2px #c5c5c5, inset 0 -3px #fff );
    @include background-image( linear-gradient(bottom, #f4f4f4, #fff) );
    
    font-size   : 12px;
    line-height : 24px;
    text-align  : center;
    
    cursor : pointer;
    
    @include user-select(none);
    
    &:active {
      margin-top : 1px;
      height     : 23px;
      @include box-shadow( 0 1px 3px rgba(16,16,16,.3), inset 0 -1px #c5c5c5 );
    }
  }

  .underline {
    &:active:after {
      bottom : 4px;  
    }

    &:after {
      content     : " ";
      width       : 0.4em;
      height      : 1px;
      display     : inline-block;
      background  : #b6b6b6;
      position    : absolute;
      left        : 50%;
      bottom      : 5px;
      margin-left : -0.2em;
    }
  }
}

// J, K Navigation ---------


// ---------- Footer
$footerHeight : 54px;
footer {
  position   : relative;
  z-index    : 5;
  height     : $footerHeight;
  line-height: $footerHeight + floor(image-height("zigzag.png") / 2);
  background : #262626 inline-image("zigzag.png") repeat-x;
  
  text-align    : right;
  color         : #686868;
  font-size     : 24px;
  padding-right : 1em;
  
  @include retina() {
    background-image : inline-image("zigzag@2x.png");
    @include background-size(image-width("zigzag.png"), auto);
  }
}
// Footer ----------
