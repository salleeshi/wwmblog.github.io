define("script.js",["dummy/../../plugins/plugins.js","jquery.masonry.js","./pathControl.js","./winScroller.js","./msgForm.js","./workDat.js"],function(a){a("dummy/../../plugins/plugins.js"),a("jquery.masonry.js"),a("./pathControl.js");var b=a("./winScroller.js"),c=a("./msgForm.js"),d=a("./workDat.js");$(function(){function h(){var b=$("body").width(),c=half=b/2,d=window.pageXOffset;for(var g=0;g<3;++g){var h=d<c?-8:0;d<c+half&&(h=8*((d-c)/half-1)),a[g].css("bottom",h+"px"),c+=b}e[0].toggle(d>0),e[1].toggle(d>0),d>=3*b?(e[2].hide(),f[0].focus()):e[2].css("display")=="none"&&(e[2].show(),f[0].blur(),f[1].blur())}function i(a){var b=$('<div class="annotation"><div></div><div></div></div>').appendTo(a.$targetDiv).css("height",0),c=b.children().css("opacity",0),d=$(c[0]),e=$(c[1]),f=null,g=250;a.$annoElems.each(function(){$(this).data("anno",this.title).attr("title","")}).click(function(){d.animate({opacity:0},g);var a=0;if(f!=this){f=this;var c=d;d=e.html($(this).data("anno")).animate({opacity:1},g),e=c,a=d.innerHeight()}else f=null;return b.animate({height:a},g),!1})}var a=[$("#barSkill"),$("#barWork"),$("#barContact")],e=[$("#btnSpace"),$("#btnLeft"),$("#btnRight")],f=[$("#content"),$("#mail")];e[0].click(function(){b.scrollTo(0)}),e[1].click(function(){f[0].blur(),f[1].blur(),b.pageLeft()}),e[2].click(b.pageRight),$("#nav a").click(function(a){this.name!=""&&(b.scrollTo(this.name),a.preventDefault())}),$("body").keydown(function(a){var b=0,c=a.keyCode|a.which;if(c==37)b=1;else if(c==39)b=2;else if(c!=32)return!0;e[b].addClass("pressed"),a.preventDefault()}).keyup(function(a){var b=0,c=a.keyCode|a.which;if(c==37)b=1;else if(c==39)b=2;else if(c!=32)return!0;e[b].removeClass("pressed").click(),a.preventDefault()}),$(".container").each(function(a,b){var c=function(a){var b=0;a.wheelDelta&&(b=-a.wheelDelta/4),a.detail&&(b=a.detail*10),window.scrollBy(b),a.preventDefault()};this.addEventListener?(this.addEventListener("DOMMouseScroll",c,!1),this.addEventListener("mousewheel",c,!1)):this.onmousewheel=c});if(!$.browser.mozilla)for(var g=0;g<3;++g)e[g].mousedown(!1).mouseup(!1);$(window).scroll(h).resize(h),h(),i({$targetDiv:$("#introContent"),$annoElems:$("#introContent").children("a")});var j={$msgBox:f[0],$mailInput:f[1],$sendBtn:$("#sendme"),$notification:$("#notification"),submitURL:"http://lmmailserver.appspot.com",showLoading:function(){a[2].addClass("active")},hideLoading:function(){a[2].removeClass("active")},showComplete:function(){$("#stampd").css({left:"2px",top:"87px",width:"147px",height:"91px",opacity:"1"}).animate({left:"7px",top:"92px",width:"137px",height:"81"},100)},hideComplete:function(){$("#stampd").css({opacity:"0"})}};c.configureForm(j);var k=$.browser.mozilla&&parseInt($.browser.version)<10,l=$(d.targetId),m=d.data;for(var g=0,n=m.length;g<n;++g){var o=m[g],p="<div class='"+d.itemClass;k&&(p+=" "+d.lowFFClass),p+="'><div class='"+d.contentClass+"'>",o.img&&(p+="<img src='"+o.img+"'></img>"),p+=o.content+"</div>",o.link?p+="<div class='"+d.stackClass+"'><a href='"+o.link+"'></a>"+"</div><div class='"+d.titleAClass+"'>"+o.title+"</div></div>":p+="<div class='"+d.titleClass+"'>"+o.title+"</div></div>",$(p).appendTo(l)}l.watch("height",function(){l.height()>l.parent().height()?l.hasClass("scrollVisible")||(l.addClass("scrollVisible"),$("#scrollBtnWrapper").show()):l.hasClass("scrollVisible")&&(l.removeClass("scrollVisible").stop(!0,!1).animate({"margin-top":"0px"}),$("#scrollBtnWrapper").hide())}).imagesLoaded(function(){l.masonry({isAnimated:!0})}).css({"margin-top":"0px"}),$("#upBtn").click(function(){var a=l.parent().height(),b=parseInt(l.css("margin-top")),c=b-a*.9,d=a-l.outerHeight();c<d&&(c=d),c!=b&&l.stop(!0,!1).animate({"margin-top":c+"px"})}),$("#downBtn").click(function(){var a=l.parent().height(),b=parseInt(l.css("margin-top")),c=b+a*.9;c>0&&(c=0),c!=b&&l.stop(!0,!1).animate({"margin-top":c+"px"})})})});
define("pathControl.js",["./tooltip.js","./skillDat.js"],function(a){function c(a,b){function i(a,b,c,d){a.stop(!0,!1).animate({left:c+"px",right:b-c-d-a.data("padding")+"px"},optns.duration)}function j(){var a=c.width();c.children().each(function(){var b=$(this);i(b,a,b.data("weightedLeft"),b.data("weightedWidth"))})}function k(){var a=$(this),b=a.data("preferWidth"),f=b-a.data("weightedWidth");if(f<=0)return;var g=a.next(),h=c.width(),j=0,k=[],l=[];while(g.size()!=0&&j<f){l.push(g);var m=g.data("weightedWidth")-optns.minWidth;m+j>f&&(m=f-j),j+=m,k.push(m),g=g.next()}var n=f-j;if(j!=0){var o=j;for(e=0;e<l.length;++e)g=l[e],i(g,h,g.data("weightedLeft")+o,g.data("weightedWidth")-k[e]),o-=k[e]}var p=a.prevAll().size();if(n>0&&p>0){var q=p*optns.minWidth,r=a.data("weightedLeft")-q;d.firstLowest||(r+=a.outerWidth()-a.width()),r<=0?n=0:n>r&&(n=r)}var s=a.data("weightedLeft")-n;s>0&&(j>0||n>0)&&i(a,h,s,b),g=a.prev();while(n>0&&g.size()!=0){var m=g.data("weightedWidth")-optns.minWidth;m>=n?(m=n,n=0):n-=m,i(g,h,g.data("weightedLeft")-n,g.data("weightedWidth")-m),g=g.prev()}}var c=$(a),d={$div:c,totalLv:0,firstLowest:b.firstLowest};for(var e=0,f=b.dat.length;e<f;++e){var g=b.dat[e],h=$('<div class="'+optns.itemClass+'" id="'+g.id+'">'+g.title+"</div>").appendTo(d.$div).data(g).hover(k,j).tooltip(optns.getToolTip(g));d.firstLowest||h.css("z-index",f-e),h.data("preferWidth",h.width()),d.totalLv+=g.lv}$(window).resize(function(){var a=c.innerWidth();if(d.width==a)return;d.width=a;var b=c.children(),f=b.length,g=a/f,h=d.totalLv,i=[].sort.call(b.slice(0),function(a,b){return $(a).data("lv")-$(b).data("lv")}),j=e=0,k;optns.minWidth>g&&(optns.minWidth=g);for(;e<f;++e){var l=$(i[e]),m=l.data();k=parseInt((a-j)*m.lv/h),h-=m.lv,optns.minWidth>k&&(k=optns.minWidth),j+=k,l.data("weightedWidth",k).css({right:"auto",width:k+"px"})}var n=c.children(),o=left=0;for(e=0;e<f;++e){var p=$(n[e]),k=p.outerWidth(),q=p.data("weightedWidth"),r=Math.abs(k-p.width());d.firstLowest?o=left:o=left-r,left+=p.css({left:o,right:a-o-k,width:"auto"}).data({weightedLeft:o,padding:r}).width()}}).resize()}a("./tooltip.js");var b=a("./skillDat.js");optns={itemClass:"pathItem",iconClass:"pathItemIcon",titleClass:"pathItemTitle",minWidth:52,duration:250,getToolTip:function(a){var b=a.tags,c=a.lv?"<div class='star'><span class='star"+a.lv+"'></span></div>"+a.detail:a.detail;if(b){c+="<ul>";for(var d=0,e=b.length;d<e;d+=2)c+="<li class='tag'><span class='tagMain'>"+b[d]+"</span><span class='tagSub",b[d+1]?c+="'>"+b[d+1]+"</span></li>":c+=" clean'></span></li>";c+="</ul>"}return c}},$(function(){c("#proPC",b.pro),c("#basicPC",b.basic)})});
define("tooltip.js",[],function(a){jQuery.fn.tooltip=function(a,b){if(a=="")return this;var c=$.extend({distance:10,time:250,hideDelay:200,isTop:!0},b),d=null,e=!1,f="-=",g="+=",h=$('<div class="tooltip" style="opacity:0;">'+a+"</div>").appendTo("body"),i='<div class="arrow"></div>',j=this;return c.isTop?(h.append(i),j.add(i)):(f="+=",g="-=",h.addClass("ttBottom"),h.prepend(i)),j.hover(function(){d&&clearTimeout(d);if(e)return;e=!0;var a=$(this),b=a.offset(),g=b.left-window.pageXOffset+a.outerWidth()/2-h.outerWidth()/2,i=b.top-window.pageYOffset+(c.isTop?-h.outerHeight()-10:a.outerHeight()+10);h.css({left:g+"px",top:i+"px",display:"block"}).stop().animate({top:f+c.distance+"px",opacity:1},c.time,"swing")},function(){d&&clearTimeout(d),d=setTimeout(function(){hideDelayTimer=null,e=!1,h.stop(!0,!0).animate({top:g+c.distance+"px",opacity:0},c.time,"swing",function(){h.css("display","none")})},c.hideDelay)}),this}});
define("skillDat.js",[],{pro:{firstLowest:!1,dat:[{title:"Flash",id:"flashSk",lv:4,detail:"<p>07年开始接触Flash，曾经为企业做过一个Flash编辑器。</p>",tags:["AS","3"]},{title:"C++",id:"cppSk",lv:4,detail:"<p>经验值为1.5年。用过Qt做过桌面应用和用Win32 API做过一个界面库。没有接触过微软的MFC。</p><p>后台经验值为0，不适合编写数据密集的程序。</p>",tags:["Qt","Ambassador","Win32",""]},{title:"Web",id:"webSk",lv:3,detail:"<p>请问哪里有好的Reference???</p>",tags:["jQuery","","CSS","3","SCSS","","HTML","5"]},{title:"Obj-C",id:"objcSk",lv:2,detail:"<p>Using obj-c is kinda fun. lol~</p>"},{title:"More",id:"moreSk",lv:0,detail:"<p>There'll be more whenever I need to.</p>"}]},basic:{firstLowest:!0,dat:[{title:"English",id:"englishSk",lv:5,detail:"<p>英语基本没有难度，交流，提问，文档都OK。口语有待加强。</p>",tags:["CET","6"]},{title:"关联学习",id:"studySk",lv:3,detail:"<p>将会快速上手其他技术。</p>"},{title:"前沿触觉",id:"senseSk",lv:3,detail:"<p>比较关注崭新应用。对新型互联网服务也很感兴趣。</p>"},{title:"基本专业技能",id:"basicSk",lv:5,detail:"<p>大学量产型软件专业学生，其实很多连基本电脑知识都不具备。相比之下，我折腾过很多系统。</p>",tags:["Ubuntu","","Mac","","Android","","Windows",""]},{title:"问题解决能力",id:"solveSk",lv:5,detail:"<p>有疑问就Search吧,骚年~</p>",tags:["Wall?","Np","Google","","StackOverflow",""]}]}});
define("winScroller.js",[],function(a,b){b.scrollTo=function(a,b){var c=(window.contentWindow||window).document||window.ownerDocument||window,d=$.browser.safari||c.compatMode=="BackCompat"?c.body:c.documentElement,e=typeof a=="number"?a:$(a).offset().left;$(d).stop().animate({scrollLeft:e},b)},b.pageLeft=function(){var a=$("body").width(),c=Math.floor(window.pageXOffset/a);window.pageXOffset%a==0&&c>0&&--c,b.scrollTo(c*a)},b.pageRight=function(){var a=$("body").width(),c=Math.ceil(window.pageXOffset/a);window.pageXOffset%a==0&&c<3&&++c,b.scrollTo(c*a,400)}});
define("msgForm.js",[],{configureForm:function(a){function c(a){return/[\w\d_\.\-]+@([\w\d_\-]+\.)+[\w\d]{2,4}/.test(a)}function d(a){a.stopPropagation()}a.$msgBox.bind("textchange",function(){a.$notification.html(""),a.hideComplete(),a.hideLoading()}),a.$mailInput.bind("textchange",function(){c($(this).val())?a.$sendBtn.removeAttr("disabled"):a.$sendBtn.attr("disabled","disabled")}).keydown(function(b){var c=b.keyCode|b.which;if(c==13)return a.$sendBtn.click(),!1;if(c==9)return a.$msgBox.focus(),!1;b.stopPropagation()}).trigger("textchange"),a.$msgBox.add(a.$mailInput).keydown(d).keyup(d),a.$sendBtn.click(function(b){var d=a.$msgBox.val(),e=a.$mailInput.val(),f="";if(d==""||d==a.$msgBox.attr("placeholder"))f="你什么都还没写呢=，=";else if(!c(e))f="Email不正确吧~~";else if(a.lastContent==d)f="你刚才就发过了...";else{a.lastContent=d,a.showLoading(),f="正在努力地发送中...",$.ajax({url:a.submitURL,dataType:"jsonp",jsonp:"jsonp",data:{email:e,content:d},success:function(b){b.result=="success"?(a.$notification.html("发送成功，我会尽快回复你的。"),a.showComplete()):g()},error:g,complete:function(){a.hideLoading()}});function g(){a.hideComplete(),a.$notification.html("Oops，出错了。不如直接发邮件给我吧: liangmorr@gmail.com")}}return a.$notification.html(f),!1});var b="placeholder";b in document.createElement("input")||a.$msgBox.add(a.$mailInput).focus(function(){var a=$(this);a.attr(b)!=""&&a.val()==a.attr(b)&&a.val("")}).blur(function(){var a=$(this);a.attr(b)!=""&&a.val()==""&&a.val(a.attr(b))}).blur().end()}});
define("workDat.js",[],{targetId:"#pinterest",itemClass:"pinItem",contentClass:"pinContent",titleClass:"pinTitle",stackClass:"pinStack",titleAClass:"pinTitleA",lowFFClass:"lowFF",data:[{img:"img/tw.jpg",title:"TwitWar",content:"<p>用Qt写的桌面社交客户端，以插件的形式提供各种各样的功能。</p><p>因为人力问题，只对豆瓣网的支持比较好。豆瓣网有限的支持是TW停止开发的主要因素</p>",link:"http://code.google.com/p/twitwarreborn/"},{title:"MetalBone",content:"<p>一个WIN C++界面库(DirectUI)，学Qt那样利用CSS来定义外观。没人参与是停止开发的主要原因。</p><p>Github上面遗留的版本存在大的bug，而当初的修复代码没有commit就因硬盘灾难而丢失...</p>",link:"https://github.com/WarWithinMe/MetalBone"},{title:"xVim",content:"<p>利用SIMBL来为NSTextView提供Vim按键模拟。</p><p>当前支持Xcode4 Espresso Chocolat。功能暂时比较有限。</p>",link:"https://github.com/WarWithinMe/xVim"},{img:"img/hmm.jpg",title:"花密M",content:"<p><a href='http://kisexu.com/blog/huami'>花密</a>的Mac实现, 纯粹是用来试一试怎么写Mac GUI程序.</p>",link:"https://github.com/WarWithinMe/HuaMiM"}]});