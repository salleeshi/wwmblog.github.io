<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>action</key>
	<false/>
	<key>category</key>
	<string>SCRIPTS</string>
	<key>command</key>
	<string>cd /Volumes/MacData/项目/WWM.com/octopress

blog="public/blog"
target_dir="../build"
branch="master"

# Generate
rake integrate
rake generate

# Copy
rsync -vrc $blog $target_dir

# Commit
cd $target_dir
git add .
git add -u
date_time=$(date)
message="Blog updated at: "$date_time
git commit -m "$message"

# Push
git push origin $branch --force</string>
	<key>disabled</key>
	<false/>
	<key>escapequery</key>
	<true/>
	<key>escapequerybackquotes</key>
	<true/>
	<key>escapequerybrackets</key>
	<true/>
	<key>escapequeryquotes</key>
	<true/>
	<key>escapequerysemicolons</key>
	<true/>
	<key>growloutput</key>
	<false/>
	<key>growloutputsticky</key>
	<false/>
	<key>keyword</key>
	<string>blogpublish</string>
	<key>logging</key>
	<false/>
	<key>parameter</key>
	<integer>1</integer>
	<key>silent</key>
	<false/>
	<key>subtitle</key>
	<string></string>
	<key>title</key>
	<string>发布博客</string>
</dict>
</plist>
